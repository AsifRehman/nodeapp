<link rel="stylesheet" type="text/css" href="/resource/css/reset.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/style.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/invalid.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/form.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/tabs.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/reports.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/scrollbar.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/font-awesome.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/bootstrap-select.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/lightbox.css" />
<link rel="stylesheet" type="text/css" href="/resource/css/jquery-ui/jquery-ui.min.css" />
<link href="/resource/css/bootstrap.min.css" rel="stylesheet">
<link href="/resource/css/bootstrap-nav-wizard.css" rel="stylesheet">



<script type="text/javascript" src="/resource/scripts/jquery.1.11.min.js"></script>
<script type="text/javascript" src="/resource/scripts/jquery-ui.min.js"></script>
<script type="text/javascript" src="/resource/scripts/bootstrap.min.js"></script>
<script type="text/javascript" src="/resource/scripts/bootstrap-select.js"></script>
<script type="text/javascript" src="/resource/scripts/tab.js"></script>
<script type="text/javascript" src="/resource/scripts/configuration.js"></script>
<script type="text/javascript" src="/resource/scripts/jquery.form.js"></script>
<script type="text/javascript" src="/resource/scripts/sideBarFunctions.js"></script>

<script>$(document).ready(function () {
        $("body").on("click", "*[data-target='#popup-form-modal']", function () { setTimeout(function () { $("select").selectpicker(); $("#popup-form-modal input[type=text]").focus(); $('form').ajaxForm({ beforeSubmit: function () { $("input[type=submit]").prop("disabled", true); }, success: function (code) { if ($.trim(code) == '') { displayMessage('Error! Cannot create account.'); } else { displayMessage('Success! New Account has been created.'); $("input[name=title]").val(''); } $("input[type=submit]").prop("disabled", false); $.get("?", {}, function (html) { $("table tbody").replaceWith($(html).find("table tbody")); events(); }); return; } }); }, 300); }); $("table").on("click", "a[data-target='#popup-form-modal']", function () {
            var herchi = $(this).attr("data-herchi"); $("#popup-form-modal select").unbind('change'); $("#popup-form-modal select[name='general'] option[value='']").prop("selected", true).parent().trigger('change'); $("#popup-form-modal select[name='main'] 	option[value='']").prop("selected", true).parent().trigger('change'); $("#popup-form-modal select[name='subMain'] option[value='']").prop("selected", true).parent().trigger('change'); $("#popup-form-modal select[name='general'] option[value='" + herchi.substring(0, 2) + "']").prop("selected", true).parent().trigger('change'); $("#popup-form-modal select[name='main'] 	option[value='" + herchi.substring(0, 4) + "']").prop("selected", true).parent().trigger('change'); $("#popup-form-modal select[name='subMain'] option[value='" + herchi.substring(0, 6) + "']").prop("selected", true).parent().trigger('change'); $("#popup-form-modal select").selectpicker('refresh'); $("#popup-form-modal select[name='general']").bind('change', function () {
                $("#popup-form-modal select[name='" + $(this).attr("data-child") + "'] option").prop("disabled", true)
                $("#popup-form-modal select[name='" + $(this).attr("data-child") + "'] option[value^=" + $(this).selectpicker('val') + "]").prop("disabled", false); $("#popup-form-modal select[name='" + $(this).attr("data-child") + "']").selectpicker('refresh'); $("#popup-form-modal select[name='" + $(this).attr("data-child") + "']").trigger('change');
            }); $("#popup-form-modal select[name='main']").bind('change', function () {
                $("#popup-form-modal select[name='" + $(this).attr("data-child") + "'] option").prop("disabled", true)
                $("#popup-form-modal select[name='" + $(this).attr("data-child") + "'] option[value^=" + $(this).selectpicker('val') + "]").prop("disabled", false); $("#popup-form-modal select[name='" + $(this).attr("data-child") + "']").selectpicker('refresh'); $("#popup-form-modal select[name='" + $(this).attr("data-child") + "']").trigger('change');
            });
        }); $("table").on("click", ".miniEdit", function () { if ($(".miniText").length) { $(".miniText").remove(); }; miniEdit($(this)); });
    }); var drop_down_change = function (elm) {
        setTimeout(function () {
            $("#popup-form-modal select[name='" + $(elm).attr("data-child") + "'] option").prop("disabled", true)
            $("#popup-form-modal select[name='" + $(elm).attr("data-child") + "'] option[value^=" + $(elm).selectpicker('val') + "]").prop("disabled", false); $("#popup-form-modal select[name='" + $(elm).attr("data-child") + "']").selectpicker('refresh'); $("#popup-form-modal select[name='" + $(elm).attr("data-child") + "']").trigger('change');
        }, 400);
    }</script>

<div class="content-box-top">
    <div class="summery_body">
        <div class="content-box-header">
            <ul class="nav nav-wizard" style="float:left">
                <li><a href="settings.html"><i class="fa fa-cog"></i> Settings</a></li>
                <li class="active"><a href="#">Accounts Management</a></li>
            </ul>

            <button type="button" data-toggle="modal" data-target='#popup-form-modal'
                class="btn btn-default btn-sm pull-right mt-5 mr-5">Create</button>
            <div class="clear"></div>
        </div>
        <!-- End .content-box-header -->
        <div id="bodyTab1" class="table-responsive">
            <div class="clear"></div>
            <table class="table table-striped table-hover" width="90%" cellspacing="0" align="left"
                style="margin:0px auto; margin-bottom:20px">
                <thead>
                    <tr>
                        <th class="text-center col-xs-2">Account Code</th>
                        <th class="text-center col-xs-8">Account Name</th>
                        <th class="text-center col-xs-2">Action</th>
                    </tr>
                </thead>
                <tbody>

                    <tr data-parent="
                                0101">
                        <td class="acc_code text-right">
                            010101 </td>
                        <td class="acc_name text-left" align="left" style="position: relative;">
                            <a id="view_button" data-title="Cash In Hand" data-id='13' class="miniEdit fa fa-pencil">
                            </a>
                            <span class="theTitleSpan">Cash In Hand</span>
                            <a id='view_button' class="rowToggler" data-code='010101'>
                                <i class="fa fa-caret-down"></i>
                            </a>
                        </td>
                        <td class="delete_code_check text-center">
                            <a data-herchi="010101" data-toggle="modal" data-target="#popup-form-modal" id="view_button"
                                style="padding:3px 9px;"><i class="fa fa-plus"></i> Add</a>
                        </td>
                    </tr>
                    <tr class='010101' style="display:
                                none;" data-parent="
                                ">
                        <td class="acc_code text-right">
                            0101010002 </td>
                        <td class="acc_name text-left" align="left" style="position: relative;">
                            <a id="view_button" data-title="Cash in Hand A/c Naeem " data-id='6532'
                                class="miniEdit fa fa-pencil">
                            </a>
                            <span class="theTitleSpan">Cash in Hand A/c Naeem </span>
                        </td>
                        <td class="delete_code_check text-center">
                        </td>
                    </tr>
                    <tr class='010101' style="display:
                                none;" data-parent="
                                ">
                        <td class="acc_code text-right">
                            0101010003 </td>
                        <td class="acc_name text-left" align="left" style="position: relative;">
                            <a id="view_button" data-title="Cash In Hand Tayyab Account " data-id='6742'
                                class="miniEdit fa fa-pencil">
                            </a>
                            <span class="theTitleSpan">Cash In Hand Tayyab Account </span>
                        </td>
                        <td class="delete_code_check text-center">
                        </td>
                    </tr>
                    <tr class='010101' style="display:
                                none;" data-parent="
                                ">
                        <td class="acc_code text-right">
                            0101010004 </td>
                        <td class="acc_name text-left" align="left" style="position: relative;">
                            <a id="view_button" data-title="Cash In Hand A/c Adil Grey" data-id='6758'
                                class="miniEdit fa fa-pencil">
                            </a>
                            <span class="theTitleSpan">Cash In Hand A/c Adil Grey</span>
                        </td>
                        <td class="delete_code_check text-center">
                        </td>
                    </tr>
                    <tr class='010101' style="display:
                                none;" data-parent="
                                ">
                        <td class="acc_code text-right">
                            0101010005 </td>
                        <td class="acc_name text-left" align="left" style="position: relative;">
                            <a id="view_button" data-title="Dasti Account (CEO)" data-id='6779'
                                class="miniEdit fa fa-pencil">
                            </a>
                            <span class="theTitleSpan">Dasti Account (CEO)</span>
                        </td>
                        <td class="delete_code_check text-center">
                        </td>
                    </tr>
                    <tr class='010101' style="display:
                                none;" data-parent="
                                010101">
                        <td class="acc_code text-right">
                            010101001 </td>
                        <td class="acc_name text-left" align="left" style="position: relative;">
                            <a id="view_button" data-title="Cash in Hand A/c Admin" data-id='48'
                                class="miniEdit fa fa-pencil">
                            </a>
                            <span class="theTitleSpan">Cash in Hand A/c Admin</span>
                        </td>
                        <td class="delete_code_check text-center">
                        </td>
                    </tr>


                </tbody>
            </table>
            <div class="clear"></div>
        </div>
        <!--End bodyTab1-->
        <div class="clear"></div>
    </div>
    <!-- End summer -->
</div>

<div id="popup-form-modal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">Account Details</h4>
            </div>
            <form action="/accounts-management.html" method="post" class="form-horizontal">
                <div class="modal-body">
                    <div class="form-group">
                        <label class="control-label col-sm-2">General</label>
                        <div class="col-sm-10">
                            <select name="general" class="form-control show-tick" data-child="main"
                                onchange="drop_down_change(this);" data-hide-disabled="true">
                                <option value="00"></option>
                                <option value="01" data-subtext="01">Assets</option>
                                <option value="02" data-subtext="02">Income</option>
                                <option value="03" data-subtext="03">Expense</option>
                                <option value="04" data-subtext="04">Liabilities</option>
                                <option value="05" data-subtext="05">Equity</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-sm-2"> Main </label>
                        <div class="col-sm-10">
                            <select name="main" class="form-control show-tick" data-child="subMain"
                                onchange="drop_down_change(this);" data-hide-disabled="true">
                                <option value="00"></option>
                                <option value="0101" data-subtext="0101">Current Assets</option>
                                <option value="0102" data-subtext="0102">Fixed Assets</option>
                                <option value="0201" data-subtext="0201">Sales Revenue</option>
                                <option value="0202" data-subtext="0202">Services Income</option>
                                <option value="0301" data-subtext="0301">Operating Expenses</option>
                                <option value="0302" data-subtext="0302">Gifts & Samples</option>
                                <option value="0401" data-subtext="0401">Current Liabilities</option>
                                <option value="0402" data-subtext="0402">Long Term Liabilities</option>
                                <option value="0501" data-subtext="0501">Owner's Equity</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-sm-2">Sub Main</label>
                        <div class="col-sm-10">
                            <select name="subMain" class="form-control show-tick" data-hide-disabled="true">
                                <option value="00"></option>
                                <option value="010101" data-subtext="010101">Cash In Hand</option>
                                <option value="010102" data-subtext="010102">Cash At Bank</option>
                                <option value="010103" data-subtext="010103">Investment</option>
                                <option value="010104" data-subtext="010104">Account Receivable/Debtors
                                </option>
                                <option value="010105" data-subtext="010105">Bills/Notes Receivable</option>
                                <option value="010106" data-subtext="010106">Stock In Trade/Inventory
                                </option>
                                <option value="010107" data-subtext="010107">Withholding Tax</option>
                                <option value="010108" data-subtext="010108">Taxation</option>
                                <option value="010109" data-subtext="010109">Advances To Staff</option>
                                <option value="010110" data-subtext="010110">Advances, Deposits</option>
                                <option value="010111" data-subtext="010111">Parking Account</option>
                                <option value="010112" data-subtext="010112">Work In Process</option>
                                <option value="010201" data-subtext="010201">Land And Building</option>
                                <option value="010202" data-subtext="010202">Furniture And Fixtures and
                                    Computer</option>
                                <option value="010203" data-subtext="010203">Plant & Machinery</option>
                                <option value="010204" data-subtext="010204">Loose Tools</option>
                                <option value="010205" data-subtext="010205">Motor Vehicles</option>
                                <option value="010206" data-subtext="010206">Mobile / Accesseries</option>
                                <option value="020101" data-subtext="020101">Sales</option>
                                <option value="020102" data-subtext="020102">Other Revenues</option>
                                <option value="020201" data-subtext="020201">Services Revenue</option>
                                <option value="030101" data-subtext="030101">Selling Expenses</option>
                                <option value="030102" data-subtext="030102">Administrative Expenses
                                </option>
                                <option value="030103" data-subtext="030103">Others Expenses</option>
                                <option value="030104" data-subtext="030104">Cost of Goods Sold</option>
                                <option value="030105" data-subtext="030105">Employees Exp</option>
                                <option value="030106" data-subtext="030106">Purchase Expenses</option>
                                <option value="040101" data-subtext="040101">Accounts Payable/Creditors
                                </option>
                                <option value="040102" data-subtext="040102">Bills/Notes Payable</option>
                                <option value="040103" data-subtext="040103">Bank Overdraft</option>
                                <option value="040104" data-subtext="040104">Employees Lib</option>
                                <option value="040105" data-subtext="040105">Taxation</option>
                                <option value="040106" data-subtext="040106">Other Liabilities</option>
                                <option value="040107" data-subtext="040107">Sheds</option>
                                <option value="040201" data-subtext="040201">Mortgage Loans</option>
                                <option value="040202" data-subtext="040202">Debentures</option>
                                <option value="050101" data-subtext="050101">Owner's Equity</option>
                                <option value="050102" data-subtext="050102">P\L Account</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="control-label col-sm-2">Title </label>
                        <div class="col-sm-10">
                            <input name="title" id="charges" type="text" class="form-control" required />
                        </div>
                    </div>
                    <div class="clear"></div>
                </div>
                <div class="modal-footer">
                    <input name="addAccount" type="submit" value="Save" class="btn btn-primary" />
                    <input type="button" value="Close" data-dismiss="modal" class="btn btn-default" />
                </div>
            </form>
        </div>
        <!-- /.modal-content -->
    </div>
    <!-- /.modal-dialog -->
</div>

<script>$(window).load(function () { events(); }); var events = function () { $("#xfade").click(function () { $(this).fadeOut(); $("#popUpDel").remove(); }); $(".rowToggler").click(function () { var thisSwitch = $(this); var subCode = $(this).attr('data-code'); $("." + subCode).fadeToggle(function () { if ($("." + subCode).is(":visible")) { thisSwitch.children('i').css('transform', 'rotate(180deg)'); } else { thisSwitch.children('i').css('transform', 'rotate(0deg)'); } }); }); $("a.pointer").click(function () { var acc_code = $(this).attr("do"); var thisRow = $(this).parent().parent(); if (acc_code == "") { return false; } $("#xfade").fadeOut(); $("#popUpDel").remove(); var appendable_td = $(this).parent(".delete_code_check"); $("body").append("<div id='popUpDel'><p class='confirm'>Are You Sure?</p><button class='dodelete btn btn-danger '>Confirm</button><button class='nodelete btn btn-default'>Cancel</button></div>"); var win_hi = $(window).height() / 2; var win_width = $(window).width() / 2; win_hi = win_hi - $("#popUpDel").height() / 2; win_width = win_width - $("#popUpDel").width() / 2; $("#popUpDel").css({ 'position': 'fixed', 'top': win_hi, 'left': win_width }); $("#popUpDel").hide(); $("#xfade").fadeIn('slow'); $("#popUpDel").fadeIn(); $(".dodelete").click(function () { $("#popUpDel").show(); $.get("db/del-account-code.html", { acc_code: acc_code }, function (data) { if (data != '') { data = $.parseJSON(data); if (data['OK'] == 'Y') { thisRow.remove(); } displayMessage(data['MSG']); $("#xfade").fadeOut(); $("#popUpDel").fadeOut(function () { $("#popUpDel").remove(); }); } }); }); $(".nodelete").click(function () { $("#xfade").fadeOut(); $("#popUpDel").fadeOut(); }); $(".close_popup").click(function () { $("#popUpDel").slideUp(); $("#xfade").fadeOut('fast'); }); }); $(".code_like").keyup(function () { var search_term = $(this).val(); if (search_term !== "") { $("#clear_filter").css('opacity', '1.0'); $("#clear_filter").click(function () { $(".acc_code").parent("tr").fadeIn(); $("#clear_filter").css('opacity', '0.6'); $("#clear_filter").css({ 'cursor': 'default' }); $(".code_like").val(""); $(".name_like").val(""); }); } else { $("#clear_filter").css({ 'cursor': 'default' }); $("#clear_filter").css('opacity', '0.6'); } $(".acc_code").each(function () { if ($(this).text().search(new RegExp(search_term, "i")) < 0) { $(this).parent("tr").fadeOut(); } else { $(this).parent("tr").fadeIn(); } }); }); $(".name_like").keyup(function () { var search_term = $(this).val(); if (search_term !== "") { $("#clear_filter").css('opacity', '1.0'); $("#clear_filter").click(function () { $(".acc_code").parent("tr").fadeIn(); $("#clear_filter").css('opacity', '0.6'); $("#clear_filter").css({ 'cursor': 'default' }); $(".code_like").val(""); $(".name_like").val(""); }); } else { $("#clear_filter").css({ 'cursor': 'default' }); $("#clear_filter").css('opacity', '0.6'); } $(".acc_name").each(function () { var term_length = search_term.length; if ($(this).text().substr(0, term_length).search(new RegExp(search_term, "i")) < 0) { $(this).parent("tr").fadeOut(); } else { $(this).parent("tr").fadeIn(); } }); }); }</script>